!function(t, e) {
    function n(t, e) {
        var n = this;
        n.a = t || 0, n.b = e || 0;
    }
    function a(t, e) {
        var n = e.b - t.b, a = e.a - t.a;
        return n * n + a * a;
    }
    var o, r, i = function() {
        function t(t, e, n, a) {
            var o = this;
            o.c = t, o.d = e, o.e = n, o.f = a;
        }
        var e, n = t.prototype, a = 1e-4;
        return n.g = function(t) {
            var e, n, o, r, i, u, c = this, d = t * c.h;
            for (o = t, u = 0; 8 > u; u++) {
                if (r = c.i(o) - d, Math.abs(r) < a) {
                    return o;
                }
                if (i = c.j(o), Math.abs(i) < 1e-6) {
                    break;
                }
                o -= r / i;
            }
            if (e = 0, n = 1, o = t, e > o) {
                return e;
            }
            if (o > n) {
                return n;
            }
            for (;n > e; ) {
                if (r = c.i(o), Math.abs(r - d) < a) {
                    return o;
                }
                d > r ? e = o : n = o, o = .5 * (n - e) + e;
            }
            return o;
        }, n.k = function(t, e) {
            var n = this, a = n.c, o = n.d, r = n.e, i = n.f, u = 1 - t, c = u * u * u, d = 3 * t * u * u, f = 3 * t * t * u, h = t * t * t;
            return e.a = c * a.a + d * o.a + f * r.a + h * i.a, e.b = c * a.b + d * o.b + f * r.b + h * i.b, 
            e;
        }, n.j = function(t) {
            var e = this, n = e.c, a = e.d, o = e.e, r = e.f, i = 1 - t, u = -3 * i * i, c = i * (3 * i - 6 * t), d = t * (-3 * t + 6 * i), f = 3 * t * t, h = u * n.a + c * a.a + d * o.a + f * r.a, s = u * n.b + c * a.b + d * o.b + f * r.b;
            return Math.sqrt(h * h + s * s);
        }, e = 1e3, n.i = function(t) {
            var n, a, o, r, i, u, c = this, d = Math.round(e * t);
            if (1 & d && d++, 0 == d) {
                return 0;
            }
            for (n = t / d, a = 0, o = 0, r = 0, i = 1, u = d; u > i; i++) {
                r = n * i, 1 & i ? a += c.j(r) : o += c.j(r);
            }
            return (c.j(0) + c.j(t) + 2 * o + 4 * a) * n / 3;
        }, t;
    }(), u = function() {
        function t(t, e) {
            var n = this;
            n.l = t, n.m = e;
        }
        var e, n = t.prototype;
        return n.n = function(t) {
            var e = this, n = e.l * Math.sin(t), a = e.m * Math.cos(t);
            return Math.sqrt(n * n + a * a);
        }, e = 1e4, n.o = function(t, n) {
            var a, o, r, i, u, c, d = this, f = Math.round(e * (n - t));
            for (1 & f && f++, a = (n - t) / f, o = 0, r = 0, i = 0, u = 1, c = f; c > u; u++) {
                i = t + a * u, 1 & u ? o += d.n(i) : r += d.n(i);
            }
            return (d.n(t) + d.n(n) + 2 * r + 4 * o) * a / 3;
        }, t;
    }(), c = new u(100, 100);
    c.o(0, 2 * Math.PI);
    o = function() {
        function t() {}
        t.create = function(e, n) {
            var a, o, r, i = new t();
            return i.p = e, i.q = n, a = document.createElement("canvas"), a.width = e, a.height = n, 
            o = a.getContext("2d"), o.imageSmoothingEnabled = !1, r = i.u = [ 1, 0, e >> 1, 0, 1, n >> 1 ], 
            i.v = r[2], i.w = r[5], o.transform(r[0], r[3], r[1], r[4], r[2], r[5]), i.x = o, 
            i.y = a, i;
        };
        var e = t.prototype;
        return e.z = function() {
            var t = this;
            return t.x.clearRect(-t.v, -t.w, t.p, t.q), t;
        }, e.A = function(t, e) {
            var n = this;
            return n.x.strokeStyle = t, n.x.lineWidth = e, n.x.stroke(), n;
        }, e.D = function(t) {
            var e = this;
            return e.x.fillStyle = t, e.x.fill(), e;
        }, e.G = function(t) {
            var e, n = this;
            for (n.x.moveTo(t[0].a, -t[0].b), e = 1; e < t.length; e++) {
                n.x.lineTo(t[e].a, -t[e].b);
            }
            n.x.lineTo(t[0].a, -t[0].b), n.x.closePath();
        }, t;
    }(), function() {
        function t() {
            var t, e = document.body.offsetWidth, n = document.body.offsetHeight;
            r = {
                I: o.create(e, n),
                clientWidth: e,
                clientHeight: n,
                L: e >> 1,
                M: n >> 1
            }, t = r.I, document.body.appendChild(t.y), document.body.insertAdjacentHTML("beforeEnd", "<div style=\"position:absolute;top:0\"><a href='http://github.com/legend-chen/smooth-quadratic-bezier-curve' style='line-height:12px;font-size:12px'> http://github.com/legend-chen/smooth-quadratic-bezier-curve</a></div>");
        }
        var e = document.createElement("style"), n = "body {position:absolute; top:0; left:0; right:0; bottom:0; cursor:default}";
        e.type = "text/css", e.appendChild(document.createTextNode(n)), document.getElementsByTagName("head")[0].appendChild(e), 
        window.addEventListener("DOMContentLoaded", t);
    }(), function() {
        function t(t) {
            var e, a, o, i, u = r.I;
            for (s.h = s.i(1), e = 1, a = w; a > e; e++) {
                o = e / a, o = s.g(o), i = P[e], void 0 == i && (i = new n(), P[e] = i), s.k(o, i);
            }
            u.z(), u.x.beginPath(), u.G(T), u.A("rgb(0,0,0)", 1), u.D("#dad8f9", 1), P.forEach(function(t, e) {
                u.x.beginPath(), u.x.arc(t.a, -t.b, 4, 0, 2 * Math.PI, !1), u.A("#000", 1), u.x.beginPath(), 
                u.D("#000", 1), u.x.fillText(e, t.a + 4, -t.b);
            }), k.forEach(function(t, e) {
                var n = 0 == e || 3 == e ? "#F00" : "#00F";
                u.x.beginPath(), u.x.arc(t.a, -t.b, 4, 0, 2 * Math.PI, !1), u.A(n, 1), u.x.beginPath(), 
                u.D(0 == e || 3 == e ? "#F00" : "#00F", 1), u.x.fillText(e, t.a + 4, -t.b);
            });
        }
        function e() {
            function e(o) {
                var r = (o - n) * p || 0;
                n = o, b && (t(r), b = !1), a(e);
            }
            var n, a = requestAnimationFrame;
            a(e);
        }
        function o(t) {
            var e, n, o, r;
            for (h(t, m), v = !0, l = void 0, e = 0, n = 4; n > e; e++) {
                if (o = k[e], r = a(o, m), 100 > r) {
                    l = o;
                    break;
                }
            }
        }
        function u() {
            v && (h(event, m), l && (l.a = m.a, l.b = m.b, b = !0));
        }
        function c() {
            v = !1;
        }
        function d(t) {
            t.stopPropagation(), t.preventDefault();
        }
        function f(t, e) {
            var n, a = e.toDataURL("image/png").replace("image/png", "image/octet-stream"), o = document.createElement("a");
            o.href = a, o.download = t, n = document.createEvent("MouseEvents"), n.initMouseEvent("click"), 
            o.dispatchEvent(n);
        }
        function h(t, e) {
            var n = t.pageX, a = t.pageY, o = t.target.getBoundingClientRect();
            e.a = n - o.left - r.L, e.b = a - o.top - r.M, e.b = -e.b;
        }
        var s, v, b, l, m, g = 30, p = 1 / g, x = 100, w = 16, y = new n(2 * -x, 2 * -x), E = new n(2 * x, 2 * x), M = new n(2 * -x, 0), L = new n(2 * x, 0), P = [], k = [ y, M, L, E ], T = [ new n(-1, -1), new n(-1, 1), new n(1, 1), new n(1, -1) ];
        T.forEach(function(t) {
            t.a *= x, t.b *= x;
        }), s = new i(y, M, L, E), window.addEventListener("load", e), b = !0, m = new n(), 
        document.addEventListener("mousedown", o), document.addEventListener("mousemove", u), 
        document.addEventListener("mouseup", c), document.addEventListener("keydown", function(t) {
            68 == t.keyCode && t.metaKey && (d(t), f("demo.png", r.I.y));
        });
    }(), e["true"] = t;
}({}, function() {
    return this;
}());